<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       
       xmlns:jee="http://www.springframework.org/schema/jee"
       xsi:schemaLocation="http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-3.2.xsd
           http://www.springframework.org/schema/beans
           http://www.springframework.org/schema/beans/spring-beans.xsd">
    
 
    <!--    Create listeners to MessageDispatcher-->
    <bean id="allDataSetAssignmentsRemovedListener" class="eu.europeana.cloud.service.dls.listeners.AllDataSetAssignmentsRemovedListener"/>
    <bean id="allRecordRepresentationsRemovedListener" class="eu.europeana.cloud.service.dls.listeners.AllRecordRepresentationsRemovedListener"/>
    <bean id="assignmentAddedListener" class="eu.europeana.cloud.service.dls.listeners.AssignmentAddedListener"/>
    <bean id="assignmentRemovedListener" class="eu.europeana.cloud.service.dls.listeners.AssignmentRemovedListener"/>
    <bean id="representationRemovedListener" class="eu.europeana.cloud.service.dls.listeners.RepresentationRemovedListener"/>
    <bean id="representationVersionAddedListener" class="eu.europeana.cloud.service.dls.listeners.RepresentationVersionAddedListener"/>
    <bean id="representationVersionAddedPersistentListener" class="eu.europeana.cloud.service.dls.listeners.RepresentationVersionAddedPersistentListener"/>
    <bean id="representationVersionRemovedListener" class="eu.europeana.cloud.service.dls.listeners.RepresentationVersionRemovedListener"/>
    <!--    Create message type classes to MessageDispatcher-->
    <bean id="RemoveAssignmentsFromDataSetMessageClass" factory-method="forName" class="java.lang.Class">
        <constructor-arg value="eu.europeana.cloud.service.mcs.messages.RemoveAssignmentsFromDataSetMessage" />
    </bean>
    <bean id="RemoveRecordRepresentationsMessageClass" factory-method="forName" class="java.lang.Class">
        <constructor-arg value="eu.europeana.cloud.service.mcs.messages.RemoveRecordRepresentationsMessage" />
    </bean>  
    <bean id="AddAssignmentMessageClass" factory-method="forName" class="java.lang.Class">
        <constructor-arg value="eu.europeana.cloud.service.mcs.messages.AddAssignmentMessage" />
    </bean>  
    <bean id="RemoveAssignmentMessageClass" factory-method="forName" class="java.lang.Class">
        <constructor-arg value="eu.europeana.cloud.service.mcs.messages.RemoveAssignmentMessage" />
    </bean>  
    <bean id="RemoveRepresentationMessageClass" factory-method="forName" class="java.lang.Class">
        <constructor-arg value="eu.europeana.cloud.service.mcs.messages.RemoveRepresentationMessage" />
    </bean>  
    <bean id="InsertRepresentationMessageClass" factory-method="forName" class="java.lang.Class">
        <constructor-arg value="eu.europeana.cloud.service.mcs.messages.InsertRepresentationMessage" />
    </bean>  
    <bean id="InsertRepresentationPersistentMessageClass" factory-method="forName" class="java.lang.Class">
        <constructor-arg value="eu.europeana.cloud.service.mcs.messages.InsertRepresentationPersistentMessage" />
    </bean>  
    <bean id="RemoveRepresentationVersionMessageClass" factory-method="forName" class="java.lang.Class">
        <constructor-arg value="eu.europeana.cloud.service.mcs.messages.RemoveRepresentationVersionMessage" />
    </bean>
    <!--  MessageDispatcher -->
    <bean id="messageDispatcher" class="eu.europeana.cloud.service.dls.kafka.MessageDispatcher" >
        <property name="listenersMap">
            <map>
                <entry key-ref="RemoveAssignmentsFromDataSetMessageClass" value-ref="allDataSetAssignmentsRemovedListener" />
                <entry key-ref="RemoveRecordRepresentationsMessageClass" value-ref="allRecordRepresentationsRemovedListener" />
                <entry key-ref="AddAssignmentMessageClass" value-ref="assignmentAddedListener" />
                <entry key-ref="RemoveAssignmentMessageClass" value-ref="assignmentRemovedListener" />
                <entry key-ref="RemoveRepresentationMessageClass" value-ref="representationRemovedListener" />
                <entry key-ref="InsertRepresentationMessageClass" value-ref="representationVersionAddedListener" />
                <entry key-ref="InsertRepresentationPersistentMessageClass" value-ref="representationVersionAddedPersistentListener" />
                <entry key-ref="RemoveRepresentationVersionMessageClass" value-ref="representationVersionRemovedListener" />   
            </map>
        </property>
    </bean>
</beans>         